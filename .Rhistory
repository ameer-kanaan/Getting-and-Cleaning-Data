"walking_upstairs",
"walking_downstairs",
"sitting",
"standing",
"laying") )
head(dt$movlabels)
test <- read.table ("./test/X_test.txt", sep = "")
test <- read.table ("./test/X_test.txt", sep = "")
ytest <- read.table ("./test/y_test.txt", sep = "")
stest <- read.table ("./test/subject_test.txt", sep = "")
train <- read.table ("./train/X_train.txt", sep = "")
ytrain <- read.table ("./train/y_train.txt", sep = "")
strain <- read.table ("./train/subject_train.txt", sep = "")
colnames <- read.table("./features.txt", sep = "")
names(test) <- colnames[,2]
names(train) <- colnames[,2]
names(stest) <- "subject"
names(ytest) <- "movlabels"
names(ytrain) <- "movlabels"
names(strain) <- "subject"
X <- cbind(test,ytest,stest)
Y <- cbind(train, ytrain,strain)
dt <- rbind(X,Y)
names(dt) <- tolower(gsub("\\(|)|,|-", "", names(dt)))
dt$movlabels <- factor(dt$movlabels, levels = c(1,2,3,4,5,6), labels = c("walking",
"walking_upstairs",
"walking_downstairs",
"sitting",
"standing",
"laying") )
dt$movlabels
names(dt)
test <- read.table ("./test/X_test.txt", sep = "")
ytest <- read.table ("./test/y_test.txt", sep = "")
stest <- read.table ("./test/subject_test.txt", sep = "")
train <- read.table ("./train/X_train.txt", sep = "")
ytrain <- read.table ("./train/y_train.txt", sep = "")
strain <- read.table ("./train/subject_train.txt", sep = "")
colnames <- read.table("./features.txt", sep = "")
names(test) <- colnames[,2]
names(train) <- colnames[,2]
names(stest) <- "subject"
names(ytest) <- "movlabels"
names(ytrain) <- "movlabels"
names(strain) <- "subject"
X <- cbind(test,ytest,stest)
Y <- cbind(train, ytrain,strain)
df <- rbind(X,Y)
names(df) <- tolower(gsub("\\(|)|,|-", "", names(df)))
df$movlabels <- factor(df$movlabels, levels = c(1,2,3,4,5,6), labels = c("walking",
"walking_upstairs",
"walking_downstairs",
"sitting",
"standing",
"laying") )
summary(df)
library(dplyr)
summarize(df)
summarize(df)
summarize(df[,50])
summarize(df, 100)
?summarize
summarize(df[,1:561])
class(df[,1])
class(df[,2])
class(df[,87])
class(df[,77])
class(df[,531])
class(df[,53])
class(df[,532])
class(df[,561])
class(df[,562])
class(df[,563])
summarise(df[,1:561])
summarise(df[,1:100])
summarise(df[,1:561], na.rm = TRUE)
summarise(df)
df1 <- df[,1:561]
summarise(df1)
dim(df1)
str(df)
summarize_all(mean)
?summarize_all
summarize_all(df ,mean)
summarize_all(df1 ,mean)
library(dplyr)
test <- read.table ("./test/X_test.txt", sep = "")
ytest <- read.table ("./test/y_test.txt", sep = "")
stest <- read.table ("./test/subject_test.txt", sep = "")
train <- read.table ("./train/X_train.txt", sep = "")
ytrain <- read.table ("./train/y_train.txt", sep = "")
strain <- read.table ("./train/subject_train.txt", sep = "")
colnames <- read.table("./features.txt", sep = "")
names(test) <- colnames[,2]
names(train) <- colnames[,2]
names(stest) <- "subject"
names(ytest) <- "movlabels"
names(ytrain) <- "movlabels"
names(strain) <- "subject"
X <- cbind(test,ytest,stest)
Y <- cbind(train, ytrain,strain)
df <- rbind(X,Y)
names(df) <- tolower(gsub("\\(|)|,|-", "", names(df)))
df$movlabels <- factor(df$movlabels, levels = c(1,2,3,4,5,6), labels = c("walking",
"walking_upstairs",
"walking_downstairs",
"sitting",
"standing",
"laying") )
tbl_df(summarize_all(df[,1:531]))
tbl_df(summarize_all(df[,1:531], mean))
summarize_all(df[,1:531], mean)
names(df)
?select
neeee <- select(df, ".*std.*")
neeee <- select(df, ".*std+.*")
df["fbodygyroiqrz"]
neeee <- select(df, contains)
neeee <- select(df, contains("std"))
neeee <- select(df, match("std"))
neeee <- select(df, "fbodyaccenergyz")
select(df, "fbodyaccenergyz")
?select
select(df, fbodyaccenergyz)
last_error()
rlang::last_error()
neeee <- select(df, contains("mean"))
neee <- summarize_each(dataframe=df, funs(), contains("std"))
neee <- summarize_all(dataframe=df, funs(), contains("std"))
neee <- summarize_all(dataframe=df, funs(mean), contains("std"))
select(df, "tbodygyromagarcoeff1")
select(df, tbodygyromagarcoeff1)
?subset
subset(df, tbodygyromagarcoeff1)
subset(df, "tbodygyromagarcoeff1")
subset(df, select = tbodygyromagarcoeff1)
neeee <- subset(df, select = .*std.*)
neeee <- subset(df, select = ".*std.*")
neeee <- select(df, subject, contains("std"))
neeee <- select(df, subject
)
class(df)
select(df, subject)
library(dplyr)
test <- read.table ("./test/X_test.txt", sep = "")
ytest <- read.table ("./test/y_test.txt", sep = "")
stest <- read.table ("./test/subject_test.txt", sep = "")
train <- read.table ("./train/X_train.txt", sep = "")
ytrain <- read.table ("./train/y_train.txt", sep = "")
strain <- read.table ("./train/subject_train.txt", sep = "")
colnames <- read.table("./features.txt", sep = "")
names(test) <- colnames[,2]
names(train) <- colnames[,2]
names(stest) <- "subject"
names(ytest) <- "movlabels"
names(ytrain) <- "movlabels"
names(strain) <- "subject"
X <- cbind(test,ytest,stest)
Y <- cbind(train, ytrain,strain)
df <- rbind(X,Y)
names(df) <- tolower(gsub("\\(|)|,|-", "", names(df)))
df$movlabels <- factor(df$movlabels, levels = c(1,2,3,4,5,6), labels = c("walking",
"walking_upstairs",
"walking_downstairs",
"sitting",
"standing",
"laying") )
tail(names(df))
select(df, subject)
df_work <- df
select(df_work, subject)
rlang::last_error()
summary(rlang::last_error())
dplyr::select(df_work, subject)
dplyr::select(df_work, subject)
?selec
?select
df_work <- tbl_df(df)
df_work <- tbl_df(dfp[,1:561])
df_work <- tbl_df(df[,1:561])
dplyr::select(df_work, subject)
df_work
select(df_work, tbodyaccmeanx)
nee <- select(df_work, contains("std"))
dim(nee)
str(nee)
nee <- select(df_work, contains("std"), contains("mean"))
str(nee)
dim(nee)
means_stds <- select(tbl_df(df[,1:561]), contains("std"), contains("mean"))
means_stds <- cbind(means_stds, df$subject, df$movlabels)
tail(names(means_stds))
means_stds$`df$movlabels`
dim(means_stds)
names(mean_stds)[88]
names(means_stds)[88]
names(means_stds)[87:88]
names(means_stds)[87:88] <- c("subject", "movlabels")
names(means_stds)[87:88]
names(means_stds)[86:88]
means_stds <- select(tbl_df(df), contains("std"), contains("mean"))
head(subset(means_stds, movlabel))
head(subset(means_stds, movlabels))
?subset
?group_by
adc <- group_by(means_stds, subject)
adc
head(adc)
dim(adc)
class(adc)
rew <- group_by(means_stds, movlabels)
?summarize_each
summarize_each(rew, adc)
summarize_each(means_stds, rew, adc)
summarize_each(rew, mean)
summarize_each(means_stds, rew, adc, mean)
summarize_each(rew, adc, mean)
summarise(adc, rew, mean)
summarise_each(means_stds, funs(mean))
dim(summarise_each(means_stds, funs(mean)))
summarise_all(adc, rew, mean())
summarise_all(adc, rew, mean
)
summarise_all(adc, rew, mean)
means_stds %>%
group_by(subject) %>%
summarise_all(mean)
wagwan <- means_stds %>%
+ group_by(subject) %>%
+ summarise_all(mean)
wagwan <- means_stds %>%
group_by(subject) %>%
summarise_all(mean)
wagwan %>%
woorwur <- wagwan %>%
group_by(movlabels) %>%
summarise_all(mean)
woorwur
dim(wagwan)
wagwan <- means_stds %>%group_by(subject) %>%
+ summarise_all(mean)
wagwan <- means_stds %>%
group_by(subject) %>%
group_by(movlabels)
summarise_all(mean)
head(rew)
head(adc)
adc <- group_by(means_stds, subject)
head(adc)
adc <- group_by(means_stds, movlabels)
head(adc)
?reshape2::dcast
means_stds <- cbind(means_stds, subject = df$subject, movlabels = df$movlabels)
library(dplyr)
test <- read.table ("./test/X_test.txt", sep = "")
ytest <- read.table ("./test/y_test.txt", sep = "")
stest <- read.table ("./test/subject_test.txt", sep = "")
train <- read.table ("./train/X_train.txt", sep = "")
ytrain <- read.table ("./train/y_train.txt", sep = "")
strain <- read.table ("./train/subject_train.txt", sep = "")
colnames <- read.table("./features.txt", sep = "")
names(test) <- colnames[,2]
names(train) <- colnames[,2]
names(stest) <- "subject"
names(ytest) <- "movlabels"
names(ytrain) <- "movlabels"
names(strain) <- "subject"
X <- cbind(test,ytest,stest)
Y <- cbind(train, ytrain,strain)
df <- rbind(X,Y)
names(df) <- tolower(gsub("\\(|)|,|-", "", names(df)))
df$movlabels <- factor(df$movlabels, levels = c(1,2,3,4,5,6), labels = c("walking",
"walking_upstairs",
"walking_downstairs",
"sitting",
"standing",
"laying") )
means_stds <- select(tbl_df(df[,1:561]), contains("std"), contains("mean"))
means_stds <- cbind(means_stds, subject = df$subject, movlabels = df$movlabels)
#names(means_stds)[87:88] <- c("subject", "movlabels")
tail(names(means_stds))
head(means_stds$subject)
head(means_stds$movlabels)
data(mtcars)
mtcars
narrow <- mtcars[, c("cyl", "gear", "vs", "mpg")]
narrow
library(reshape2)
wide1 <- tidied <- dcast(narrow, cyl + gear ~ vs, max)
wide1
wide2 <- tidied <- dcast(narrow, cyl + vs ~ gear, max)
wide2
untidy <- with(narrow, tapply(mpg, list(cyl, vs, gear), max))
untidy
notverywide <- aggregate(mpg ~ gear + vs + cyl, data = narrow, max)
notverywide
?aggregate
wide3 <- tidied <- dcast(narrow, gear + vs ~ cyl, max)
wide3
?melt
library(dplyr)
library(reshape2)
test <- read.table ("./test/X_test.txt", sep = "")
ytest <- read.table ("./test/y_test.txt", sep = "")
stest <- read.table ("./test/subject_test.txt", sep = "")
train <- read.table ("./train/X_train.txt", sep = "")
ytrain <- read.table ("./train/y_train.txt", sep = "")
strain <- read.table ("./train/subject_train.txt", sep = "")
colnames <- read.table("./features.txt", sep = "")
names(test) <- colnames[,2]
names(train) <- colnames[,2]
names(stest) <- "subject"
names(ytest) <- "movlabels"
names(ytrain) <- "movlabels"
names(strain) <- "subject"
X <- cbind(test,ytest,stest)
Y <- cbind(train, ytrain,strain)
df <- rbind(X,Y)
names(df) <- tolower(gsub("\\(|)|,|-", "", names(df)))
df$movlabels <- factor(df$movlabels, levels = c(1,2,3,4,5,6), labels = c("walking",
"walking_upstairs",
"walking_downstairs",
"sitting",
"standing",
"laying") )
means_stds <- select(tbl_df(df[,1:561]), contains("std"), contains("mean"))
means_stds <- cbind(means_stds, subject = df$subject, movlabels = df$movlabels)
#new_and_tidy <- melt(means_stds, id.vars = c("subject", "moblabels"))
new_and_tidy <- melt(means_stds, id.vars = c("subject", "moblabels"))
new_and_tidy <- melt(means_stds, id.vars = c("subject", "movlabels"))
head(new_and_tidy)
dim(new_and_tidy)
nnt <- dcast(new_and_tidy, subject + movlabels ~ variable)
head(nnt)
dim(nnt)
tail(nnt)
names(nnt)
library(dplyr)
library(reshape2)
test <- read.table ("./test/X_test.txt", sep = "")
ytest <- read.table ("./test/y_test.txt", sep = "")
stest <- read.table ("./test/subject_test.txt", sep = "")
train <- read.table ("./train/X_train.txt", sep = "")
ytrain <- read.table ("./train/y_train.txt", sep = "")
strain <- read.table ("./train/subject_train.txt", sep = "")
colnames <- read.table("./features.txt", sep = "")
names(test) <- colnames[,2]
names(train) <- colnames[,2]
names(stest) <- "subject"
names(ytest) <- "movlabels"
names(ytrain) <- "movlabels"
names(strain) <- "subject"
X <- cbind(test,ytest,stest)
Y <- cbind(train, ytrain,strain)
df <- rbind(X,Y)
names(df) <- tolower(gsub("\\(|)|,|-", "", names(df)))
df$movlabels <- factor(df$movlabels, levels = c(1,2,3,4,5,6), labels = c("walking",
"walking_upstairs",
"walking_downstairs",
"sitting",
"standing",
"laying") )
means_stds <- select(tbl_df(df[,1:561]), contains("std"), contains("mean"))
means_stds <- cbind(means_stds, subject = df$subject, movlabels = df$movlabels)
nnt <- melt(means_stds, id.vars = c("subject", "movlabels"))
new_and_tidey <- dcast(nnt, subject + movlabels ~ variable)
write.csv(new_and_tidey, "tidy.csv", row.names=FALSE)
str(means_stds)
str(nnt)
str(new_and_tidey)
## STEP 0: load required packages
# load the reshape2 package (will be used in STEP 5)
library(reshape2)
## STEP 1: Merges the training and the test sets to create one data set
# read data into data frames
subject_train <- read.table("subject_train.txt")
subject_test <- read.table("subject_test.txt")
X_train <- read.table("X_train.txt")
X_test <- read.table("X_test.txt")
y_train <- read.table("y_train.txt")
y_test <- read.table("y_test.txt")
# add column name for subject files
names(subject_train) <- "subjectID"
names(subject_test) <- "subjectID"
# add column names for measurement files
featureNames <- read.table("features.txt")
names(X_train) <- featureNames$V2
names(X_test) <- featureNames$V2
# add column name for label files
names(y_train) <- "activity"
names(y_test) <- "activity"
# combine files into one dataset
train <- cbind(subject_train, y_train, X_train)
test <- cbind(subject_test, y_test, X_test)
combined <- rbind(train, test)
## STEP 2: Extracts only the measurements on the mean and standard
## deviation for each measurement.
# determine which columns contain "mean()" or "std()"
meanstdcols <- grepl("mean\\(\\)", names(combined)) |
grepl("std\\(\\)", names(combined))
# ensure that we also keep the subjectID and activity columns
meanstdcols[1:2] <- TRUE
# remove unnecessary columns
combined <- combined[, meanstdcols]
## STEP 3: Uses descriptive activity names to name the activities
## in the data set.
## STEP 4: Appropriately labels the data set with descriptive
## activity names.
# convert the activity column from integer to factor
combined$activity <- factor(combined$activity, labels=c("Walking",
"Walking Upstairs", "Walking Downstairs", "Sitting", "Standing", "Laying"))
## STEP 5: Creates a second, independent tidy data set with the
## average of each variable for each activity and each subject.
# create the tidy data set
melted <- melt(combined, id=c("subjectID","activity"))
tidy <- dcast(melted, subjectID+activity ~ variable, mean)
# write the tidy data set to a file
#write.csv(tidy, "tidy.csv", row.names=FALSE)
getwd()
## STEP 0: load required packages
# load the reshape2 package (will be used in STEP 5)
library(reshape2)
## STEP 1: Merges the training and the test sets to create one data set
# read data into data frames
subject_train <- read.table("./train/subject_train.txt")
subject_test <- read.table("./test/subject_test.txt")
X_train <- read.table("./train/X_train.txt")
X_test <- read.table("./test/X_test.txt")
y_train <- read.table("./train/y_train.txt")
y_test <- read.table("./test/y_test.txt")
# add column name for subject files
names(subject_train) <- "subjectID"
names(subject_test) <- "subjectID"
# add column names for measurement files
featureNames <- read.table("./features.txt")
names(X_train) <- featureNames$V2
names(X_test) <- featureNames$V2
# add column name for label files
names(y_train) <- "activity"
names(y_test) <- "activity"
# combine files into one dataset
train <- cbind(subject_train, y_train, X_train)
test <- cbind(subject_test, y_test, X_test)
combined <- rbind(train, test)
## STEP 2: Extracts only the measurements on the mean and standard
## deviation for each measurement.
# determine which columns contain "mean()" or "std()"
meanstdcols <- grepl("mean\\(\\)", names(combined)) |
grepl("std\\(\\)", names(combined))
# ensure that we also keep the subjectID and activity columns
meanstdcols[1:2] <- TRUE
# remove unnecessary columns
combined <- combined[, meanstdcols]
## STEP 3: Uses descriptive activity names to name the activities
## in the data set.
## STEP 4: Appropriately labels the data set with descriptive
## activity names.
# convert the activity column from integer to factor
combined$activity <- factor(combined$activity, labels=c("Walking",
"Walking Upstairs", "Walking Downstairs", "Sitting", "Standing", "Laying"))
## STEP 5: Creates a second, independent tidy data set with the
## average of each variable for each activity and each subject.
# create the tidy data set
melted <- melt(combined, id=c("subjectID","activity"))
tidy <- dcast(melted, subjectID+activity ~ variable, mean)
# write the tidy data set to a file
#write.csv(tidy, "tidy.csv", row.names=FALSE)
head(tidy)
dim(tidy)
library(dplyr)
library(reshape2)
test <- read.table ("./test/X_test.txt", sep = "")
ytest <- read.table ("./test/y_test.txt", sep = "")
stest <- read.table ("./test/subject_test.txt", sep = "")
train <- read.table ("./train/X_train.txt", sep = "")
library(dplyr)
library(reshape2)
test <- read.table ("./test/X_test.txt", sep = "")
ytest <- read.table ("./test/y_test.txt", sep = "")
stest <- read.table ("./test/subject_test.txt", sep = "")
train <- read.table ("./train/X_train.txt", sep = "")
ytrain <- read.table ("./train/y_train.txt", sep = "")
strain <- read.table ("./train/subject_train.txt", sep = "")
colnames <- read.table("./features.txt", sep = "")
names(test) <- colnames[,2]
names(train) <- colnames[,2]
names(stest) <- "subject"
names(ytest) <- "movlabels"
names(ytrain) <- "movlabels"
names(strain) <- "subject"
X <- cbind(test,ytest,stest)
Y <- cbind(train, ytrain,strain)
df <- rbind(X,Y)
names(df) <- tolower(gsub("\\(|)|,|-", "", names(df)))
df$movlabels <- factor(df$movlabels, levels = c(1,2,3,4,5,6), labels = c("walking",
"walking_upstairs",
"walking_downstairs",
"sitting",
"standing",
"laying") )
means_stds <- select(tbl_df(df[,1:561]), contains("std"), contains("mean"))
means_stds <- cbind(means_stds, subject = df$subject, movlabels = df$movlabels)
nnt <- melt(means_stds, id.vars = c("subject", "movlabels"))
new_and_tidey <- dcast(nnt, subject + movlabels ~ variable)
#write.csv(new_and_tidey, "tidy.csv", row.names=FALSE)
head(nnt)
new_and_tidey <- dcast(nnt, subject + movlabels ~ variable, value.var = 'value')
head(new_and_tidey)
new_and_tidey <- dcast(nnt, subject + movlabels ~ variable, mean)
head(new_and_tidey)
write.csv(new_and_tidey, "tidy.csv", row.names=FALSE)
write.csv(new_and_tidey, "tidy.csv", row.names=FALSE)
